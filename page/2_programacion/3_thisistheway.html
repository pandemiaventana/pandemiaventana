
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Salida &#8212; La pandemia por la ventana</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.e8f53015daec13862f6db5e763c41738.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="canonical" href="https://pandemiaventana.github.io/pandemiaventana/page/2_programacion/3_thisistheway.html" />
    <link rel="shortcut icon" href="../../_static/0_favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Aclaraciones" href="3_programacion.html" />
    <link rel="prev" title="Aprendizaje" href="2_thisistheway.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
      <img src="../../_static/1_logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">La pandemia por la ventana</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../0_intro/0_introduccion.html">
   Bienvenido üìâ
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference external" href="https://www.instagram.com/numeral.lab/">
   Instagram üì∑
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://pandemiaventana.github.io/pandemiaventana/dinamic/balance.html">
   Balance hist√≥rico üìä
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://pandemiaventana.github.io/pandemiaventana/dinamic/indicadorfase.html">
   Indicador de fase üìÜ
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../1_experiencia/0_experiencia.html">
   Experiencia üí≠
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../1_experiencia/1_experiencia.html">
     El saber sin saber
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../1_experiencia/2_experiencia.html">
     Del desorden al orden
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../1_experiencia/3_experiencia.html">
     Autor
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="0_programacion.html">
   Programaci√≥n üë®‚Äçüíª
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="1_programacion.html">
     Funcionamiento
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2_programacion.html">
     Estado
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="1_thisistheway.html">
     G√©nesis
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2_thisistheway.html">
     Aprendizaje
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Salida
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="3_programacion.html">
     Aclaraciones
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../3_reconocimiento/0_reconocimiento.html">
   Reconocimiento üåä
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../3_reconocimiento/1_reconocimiento.html">
     Instituciones p√∫blicas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../3_reconocimiento/2_reconocimiento.html">
     Instituciones privadas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../3_reconocimiento/3_reconocimiento.html">
     Prensa
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../4_legado/0_legado.html">
   Legado üîÄ
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../4_legado/1_legado.html">
     Lo nuevo
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../4_legado/2_legado.html">
     Lo que a√∫n vive
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../5_reportes/0_reportes.html">
   Reportes üò∑
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../5_reportes/1_reportes.html">
     Reporte diario
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../5_reportes/2_reportes.html">
     Balance de vacunas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../5_reportes/3_reportes.html">
     Indicador de fase
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../5_reportes/toquequeda.html">
     Toque de queda
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../5_reportes/4_reportes.html">
     Reportes hist√≥ricos
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../5_reportes/infografias/0_infografias.html">
   Infograf√≠as üì¶
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../5_reportes/infografias/1_infografias.html">
     Agradecimientos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../5_reportes/infografias/2_infografias.html">
     Informativos
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../6_basedatos/0_basedatos.html">
   Archivos procesados üìÅ
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../6_basedatos/1_basedatos.html">
     Base de datos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../6_basedatos/2_basedatos.html">
     Archivos
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../7_bibliografia/0_bibliografia.html">
   Bibliograf√≠a üì∞
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Realizado con <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/page/2_programacion/3_thisistheway.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/pandemiaventana/pandemiaventana"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/pandemiaventana/pandemiaventana/issues/new?title=Issue%20on%20page%20%2Fpage/2_programacion/3_thisistheway.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/pandemiaventana/pandemiaventana/edit/main/page/2_programacion/3_thisistheway.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/pandemiaventana/pandemiaventana/main?urlpath=tree/page/2_programacion/3_thisistheway.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#importando-paquetes">
   Importando paquetes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#importando-datos">
   Importando datos
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tendencia">
   Tendencia
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cifras-significativas">
     Cifras significativas
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cuantos-graficos-se-exportaran">
     ¬øCu√°ntos gr√°ficos se exportar√°n?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#automatizando-salida-de-graficos">
     Automatizando salida de gr√°ficos
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#automatizando-salida-para-asistenciacovid19">
   Automatizando salida para asistenciacovid19
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#donde-estara-la-salida">
     ¬øD√≥nde estar√° la salida?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#como-funciona">
     ¬øC√≥mo funciona?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#inconveniente">
     Inconveniente
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#algunos-arreglos">
       Algunos arreglos
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#detalles">
       Detalles
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#nuevo-inconveniente">
       Nuevo inconveniente
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#informacion-de-sesion">
   Informaci√≥n de sesi√≥n
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#bibliografia-de-esta-pagina">
   Bibliograf√≠a de esta p√°gina
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="salida">
<h1>Salida<a class="headerlink" href="#salida" title="Permalink to this headline">¬∂</a></h1>
<hr class="docutils" />
<div class="figure align-default" id="markdown-fig">
<img alt="../../_images/2_cover.png" src="../../_images/2_cover.png" />
<p class="caption"><span class="caption-number">Fig. 35 </span><span class="caption-text"><strong>Ilustraci√≥n realizada por Bernardo Dinamarca</strong>.</span><a class="headerlink" href="#markdown-fig" title="Permalink to this image">¬∂</a></p>
</div>
<p>¬°Hola! Este notebook estar√° basado en recopilar, a trav√©s de la Visualizaci√≥n de Datos, las cifras hist√≥ricas y actuales de la pandemia en Tarapac√°. A√∫n no he indagado c√≥mo hacer que se actualice de forma autom√°tica, pero eventualmente, ¬°lo lograremos!</p>
<div class="section" id="importando-paquetes">
<h2>Importando paquetes<a class="headerlink" href="#importando-paquetes" title="Permalink to this headline">¬∂</a></h2>
<p>Trabajaremos con las librer√≠as del primer notebook y otras. Respecto a las librer√≠as para visualizaci√≥n, no utilizaremos Matplotlib o Seaborn, dado que deseo realizar gr√°ficas interactivas que sean visualmente limpias y atractivas. Adem√°s, incorporaremos al equipo Beautiful Soup, que es una librer√≠a para manipular lenguaje HTML.</p>
<p>Todo √©sto, ser√° en fin de generar dos salidas:</p>
<ul class="simple">
<li><p>Un reporte para el libro.</p></li>
<li><p>Una p√°gina externa para incrustarse en el sitio de la Universidad Arturo Prat.</p></li>
</ul>
<p>Anteriormente, trabajaba con Infogram, la cual es la misma plataforma que utiliza el Gobierno de Chile en su p√°gina de Cifras Oficiales. Sin embargo, la plataforma carece de automatizaci√≥n gratuita, y se debe pagar para lograr esa automatizaci√≥n.</p>
<p>En ese sentido, exportaremos una p√°gina HTML, para poder incrustarse en el sitio de la Universidad Arturo Prat.</p>
<p>Respecto a nuestro equipo de librer√≠as habitual, sumamos:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://Plot.ly">Plot.ly</a> (librer√≠a de visualizaci√≥n din√°mica e interactiva a partir de JavaScript).</p></li>
</ul>
<div class="figure align-default" id="id1">
<img alt="https://upload.wikimedia.org/wikipedia/commons/thumb/3/37/Plotly-logo-01-square.png/1200px-Plotly-logo-01-square.png" src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/37/Plotly-logo-01-square.png/1200px-Plotly-logo-01-square.png" />
<p class="caption"><span class="caption-number">Fig. 36 </span><span class="caption-text"><strong>Logo de la librer√≠a <a href="https://plotly.com/python/">Plot.ly</a></strong>.</span><a class="headerlink" href="#id1" title="Permalink to this image">¬∂</a></p>
</div>
<ul class="simple">
<li><p>Beautiful Soup (librer√≠a de Python para extraer datos de archivos HTML y XML).</p></li>
</ul>
<div class="figure align-default" id="id2">
<img alt="https://funthon.files.wordpress.com/2017/05/bs.png?w=1024" src="https://funthon.files.wordpress.com/2017/05/bs.png?w=1024" />
<p class="caption"><span class="caption-number">Fig. 37 </span><span class="caption-text"><strong>Logo de la librer√≠a <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#installing-beautiful-soup">Beautiful Soup</a></strong>.</span><a class="headerlink" href="#id2" title="Permalink to this image">¬∂</a></p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Importando paquetes</span>

<span class="c1">### Librer√≠a de manipulaci√≥n de datos </span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;use_inf_as_na&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">float_format</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span>

<span class="c1">### Librer√≠a de √°lgebra</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1">### Librer√≠as para graficar</span>
<span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>

<span class="c1">### Customizamos opciones de Plot.ly</span>
<span class="n">config</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;displayModeBar&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;showTips&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;scrollZoom&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
<span class="n">layout</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">dragmode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">),</span>
    <span class="n">xaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">showline</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">showgrid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">showticklabels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">linecolor</span><span class="o">=</span><span class="s1">&#39;rgb(204, 204, 204)&#39;</span><span class="p">,</span>
        <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="n">ticks</span><span class="o">=</span><span class="s1">&#39;outside&#39;</span><span class="p">,</span>
        <span class="n">tickfont</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
            <span class="n">family</span><span class="o">=</span><span class="s1">&#39;Arial&#39;</span><span class="p">,</span>
            <span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span>
            <span class="n">color</span><span class="o">=</span><span class="s1">&#39;rgb(82, 82, 82)&#39;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">),</span>
    <span class="n">yaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">showgrid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">showticklabels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">autosize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">margin</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">autoexpand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">l</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">r</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">t</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">showlegend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">paper_bgcolor</span><span class="o">=</span><span class="s1">&#39;rgba(0,0,0,0)&#39;</span><span class="p">,</span>
    <span class="n">plot_bgcolor</span><span class="o">=</span><span class="s1">&#39;rgba(0,0,0,0)&#39;</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">itemclick</span><span class="o">=</span><span class="s2">&quot;toggleothers&quot;</span><span class="p">,</span>
        <span class="n">itemdoubleclick</span><span class="o">=</span><span class="s2">&quot;toggle&quot;</span><span class="p">,</span>
        <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;h&quot;</span><span class="p">,</span>
        <span class="n">yanchor</span><span class="o">=</span><span class="s2">&quot;bottom&quot;</span><span class="p">,</span>
        <span class="n">xanchor</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span>
        <span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="mf">1.02</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1">### Librer√≠a BeautifulSoup para manipular HTML</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="c1">### Para formato local</span>
<span class="kn">import</span> <span class="nn">locale</span>
<span class="c1">### Seg√∫n Windows o Ubuntu</span>
<span class="k">try</span><span class="p">:</span>
    <span class="c1">### Windows</span>
    <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span><span class="p">,</span> <span class="s1">&#39;esp&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
    <span class="c1">### Ubuntu (action)</span>
    <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span><span class="p">,</span> <span class="s1">&#39;es_CL.UTF-8&#39;</span><span class="p">)</span>

<span class="c1">### Otros paquetes</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">os.path</span>
<span class="kn">import</span> <span class="nn">json</span> <span class="k">as</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">Markdown</span><span class="p">,</span> <span class="n">HTML</span><span class="p">,</span> <span class="n">Javascript</span><span class="p">,</span> <span class="n">IFrame</span>

<span class="c1">### Gracias a joelostblom (https://gitlab.com/joelostblom/session_info)</span>
<span class="kn">import</span> <span class="nn">session_info</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="importando-datos">
<h2>Importando datos<a class="headerlink" href="#importando-datos" title="Permalink to this headline">¬∂</a></h2>
<p>Hacemos el mismo proceso habitual, con la diferencia que importaremos datos ya procesados.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### Gracias a Daniel Stutzbach y Bruno Bronosky (stackoverflow.com/a/2632251/13746427) ###</span>
<span class="n">sum_</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">string</span> <span class="ow">in</span> <span class="p">[</span><span class="n">name</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s1">&#39;../../out/site/csv/&#39;</span><span class="p">)]:</span>
    <span class="n">sum_</span> <span class="o">+=</span> <span class="n">string</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">)</span>

<span class="c1">## Cargamos cada uno de los csv (basado en el primer notebook)</span>
<span class="n">x</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">sum_</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
    <span class="n">exec</span><span class="p">(</span><span class="s1">&#39;data += [pd.read_csv(&quot;../../out/site/csv/data</span><span class="si">{}</span><span class="s1">.csv&quot;, parse_dates=[&quot;Fecha&quot;], index_col=[&quot;Fecha&quot;])]&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="tendencia">
<h2>Tendencia<a class="headerlink" href="#tendencia" title="Permalink to this headline">¬∂</a></h2>
<p>La diferencia de nuestras publicaciones (en contraste a la forma en que se entregaba informaci√≥n en otras p√°ginas informativas en Instagram) se basaban en la visualizaci√≥n de datos, y en particular, en las tendencias semanales. Tambi√©n, se agregaban c√°lculos o datos que, en los reportes del Minsal, no se encontraban procesados.</p>
<p>Imaginemos que, lo √∫nico que hici√©ramos fuese entregar cifras aisladas. ¬øQu√© retratan? ¬øDe d√≥nde venimos? No es correcto que, por un d√≠a, debamos ser positivistas o negativistas. De hecho, esos pensamientos deparan en sesgos, y lo peor, en sesgos que no contemplan la integralidad de la pandemia. Por eso es relevante formar una mirada hol√≠stica en la visualizaci√≥n de los datos. Las cifras de un d√≠a <span class="math notranslate nohighlight">\(X\)</span> pueden ser sumamente variables al d√≠a <span class="math notranslate nohighlight">\(X+1\)</span> en funci√≥n de depender de la muestra (cantidad de ex√°menes PCR informados en el d√≠a <span class="math notranslate nohighlight">\(X\)</span> o <span class="math notranslate nohighlight">\(X+1\)</span>). Por ello, es importante regirse por las tendencias, o por los estad√≠sticos.</p>
<p>El problema es que, al ser Instagram, una plataforma homog√©nea, el storytelling debe ser accesible para todo p√∫blico (con estudios matem√°ticos o no). De esa forma, los reportes ten√≠an una alta presencia de tendencias a trav√©s de gr√°ficas, y no as√≠ de estad√≠sticos (a excepci√≥n de medias m√≥viles semanales).</p>
<p>La comprensi√≥n de la pandemia deb√≠a partir desde el mejor storytelling (el contar una historia detr√°s de los datos). El tomar una idea, o un incidente, y contarla como una historia: Cada d√≠a particular de la pandemia es una hoja de esa historia (<i>una hoja del ‚Äúlibro‚Äù COVID-19 en Tarapac√°</i>). Por esa raz√≥n, desarrollamos el reporte diario no solo con datos duros, sino tambi√©n con gr√°ficas de tendencia semanal.</p>
<div class="section" id="cifras-significativas">
<h3>Cifras significativas<a class="headerlink" href="#cifras-significativas" title="Permalink to this headline">¬∂</a></h3>
<p>Las tablas y gr√°ficos visualizados en la presente secci√≥n <strong>tienen una a dos cifras significativas</strong>. Cualquier sugerencia es bienvenida.</p>
<blockquote>
<div><p><strong>Para los datos, descargar los archivos .CSV procesados</strong>. √âstos est√°n disponibles en el propio libro (secci√≥n <strong>Legado</strong> üîÄ), o bien, en el <a class="reference external" href="https://github.com/pandemiaventana/pandemiaventana">repositorio</a>.</p>
</div></blockquote>
</div>
<div class="section" id="cuantos-graficos-se-exportaran">
<h3>¬øCu√°ntos gr√°ficos se exportar√°n?<a class="headerlink" href="#cuantos-graficos-se-exportaran" title="Permalink to this headline">¬∂</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s1">&#39;&gt; Se exportar√°n un total de **</span><span class="si">{}</span><span class="s1"> gr√°ficos**.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sum_</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<blockquote>
<div><p>Se exportar√°n un total de <strong>27 gr√°ficos</strong>.</p>
</div></blockquote>
</div>
</div>
</div>
<div class="section" id="automatizando-salida-de-graficos">
<h3>Automatizando salida de gr√°ficos<a class="headerlink" href="#automatizando-salida-de-graficos" title="Permalink to this headline">¬∂</a></h3>
<p>A continuaci√≥n, se desarrolla un c√≥digo que recorre cada uno de los archivos .CSV que generamos en el primer notebook, del cual, realiza una ‚Äúespecie‚Äù de resumen de los estad√≠sticos, visualiza los datos en un gr√°fico en <a class="reference external" href="http://Plot.ly">Plot.ly</a> y culmina con informaci√≥n adicional sobre:</p>
<ul class="simple">
<li><p>Descarga de los datos (solo funciona al presionar desde el libro publicado, no desde el notebook).</p></li>
<li><p>La fecha de inicio y fin del gr√°fico.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%capture</span> reportediario
<span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1">### T√≠tulo y otras cosas</span>
<span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s1">&#39;&lt;h2 style=&quot;font-size:60px;&quot;&gt;REPORTE DIARIO&lt;/h2&gt;&#39;</span><span class="p">))</span>
<span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s1">&#39;&lt;h3 style=&quot;font-size:20px;&quot;&gt;Regi√≥n de Tarapac√°, </span><span class="si">{}</span><span class="s1">&lt;/h3&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">last_valid_index</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1"> de %B de %Y&#39;</span><span class="p">))))</span>

<span class="c1">### Recorremos el vector que almacena los DataFrames, uno a uno</span>
<span class="k">for</span> <span class="n">dataframe</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
    
    <span class="c1">### Para guardar el n√∫mero del gr√°fico (un poco ordinario el m√©todo, lo s√©)</span>
    
    <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
    
    <span class="c1">### Definimos una nueva figura</span>
    
    <span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span><span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="p">)</span>
    
    <span class="c1">### Algunos datos y t√≠tulo</span>
    
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s1">&#39;&lt;h3&gt; Gr√°fico </span><span class="si">{}</span><span class="s1">&lt;/h3&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s1">&#39;El gr√°fico contiene las siguientes &lt;b&gt;columnas&lt;/b&gt;: &#39;</span><span class="p">))</span>
    
    <span class="c1">### Recorremos cada una de las columnas del DataFrame anterior</span>
    
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        
        <span class="c1">### Vector de fechas desde primer y √∫ltimo dato v√°lido por cada columna</span>
        
        <span class="n">index</span> <span class="o">=</span> <span class="n">dataframe</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">first_valid_index</span><span class="p">()</span>
        <span class="n">index_</span> <span class="o">=</span> <span class="n">dataframe</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">last_valid_index</span><span class="p">()</span>
            
        <span class="c1">### DataFrame seg√∫n filtro de primer dato v√°lido</span>
        
        <span class="n">_df</span> <span class="o">=</span> <span class="n">dataframe</span><span class="p">[</span><span class="n">index</span><span class="p">:]</span>
            
        <span class="c1">### √çndice de DataFrame seg√∫n filtro anterior</span>
            
        <span class="n">fecha</span> <span class="o">=</span> <span class="n">dataframe</span><span class="p">[</span><span class="n">index</span><span class="p">:]</span><span class="o">.</span><span class="n">index</span>
    
        <span class="c1">### Columna espec√≠fica</span>
        
        <span class="n">_col</span> <span class="o">=</span> <span class="n">dataframe</span><span class="p">[</span><span class="n">index</span><span class="p">:][</span><span class="n">col</span><span class="p">]</span>
        
        <span class="c1">### A√±adimos un trazado por cada columna, conectamos los valores para no tener discontinuidad y</span>
        <span class="c1">### suavizamos por interpolaci√≥n spline</span>
        
        <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">_df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1"> %b %Y&#39;</span><span class="p">),</span>
                                 <span class="n">y</span><span class="o">=</span><span class="n">_col</span><span class="p">,</span>
                    <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;lines&#39;</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">col</span><span class="p">,</span>
                    <span class="n">connectgaps</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                    <span class="n">line_shape</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span>
                    <span class="n">hovertemplate</span> <span class="o">=</span>
                    <span class="s1">&#39;&lt;b&gt;</span><span class="si">{}</span><span class="s1">&lt;/b&gt;: &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">col</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;%</span><span class="si">{y:.2f}</span><span class="s1">&#39;</span><span class="o">+</span><span class="s1">&#39;&lt;br&gt;&lt;b&gt;Fecha&lt;/b&gt;: %</span><span class="si">{x}</span><span class="s1">&lt;br&gt;&#39;</span> <span class="o">+</span> <span class="s2">&quot;&lt;extra&gt;&lt;/extra&gt;&quot;</span><span class="p">))</span>
        
        <span class="c1">### Para colocar en 35¬∞ las etiquetas del eje X, con el n√∫mero de etiquetas proporcional al n√∫mero de meses</span>
        <span class="c1">### desde el primer dato v√°lido</span>
        
        <span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">XAxis</span><span class="p">(</span><span class="n">tickangle</span> <span class="o">=</span> <span class="mi">90</span><span class="p">,</span>
                                                  <span class="n">nticks</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">_df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">month</span><span class="o">.</span><span class="n">unique</span><span class="p">())))</span>
        <span class="c1">### M√°s datos</span>
        
        <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s1">&#39; - &lt;b&gt;</span><span class="si">{}</span><span class="s1">&lt;/b&gt;.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">col</span><span class="p">)))</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;El mayor valor es de &lt;b&gt;</span><span class="si">{}</span><span class="s2">&lt;/b&gt;, registrado el &lt;b&gt;</span><span class="si">{}</span><span class="s2">&lt;/b&gt;. </span>
<span class="s2">        Asimismo, la mediana es de &lt;b&gt;</span><span class="si">{}</span><span class="s2">&lt;/b&gt;.</span>
<span class="s2">        Respecto a la dispersi√≥n de los datos, la desviaci√≥n est√°ndar es del &lt;b&gt;</span><span class="si">{}</span><span class="s2">&lt;/b&gt;. &quot;&quot;&quot;</span>
                         <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dataframe</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">dataframe</span><span class="p">[</span><span class="n">dataframe</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">==</span> <span class="n">dataframe</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()]</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1"> de %B de %Y&#39;</span><span class="p">),</span>
                                 <span class="nb">round</span><span class="p">(</span><span class="n">dataframe</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">(),</span> <span class="mi">2</span><span class="p">),</span> <span class="nb">round</span><span class="p">(</span><span class="n">dataframe</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">2</span><span class="p">))))</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s1">&#39;&gt; El valor en base al √∫ltimo reporte diario o epidemiol√≥gico (</span><span class="si">{}</span><span class="s1">) es de &lt;b&gt;</span><span class="si">{}</span><span class="s1">&lt;/b&gt;.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dataframe</span><span class="p">[</span><span class="n">index_</span><span class="p">:]</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1"> de %B de %Y&#39;</span><span class="p">),</span> <span class="n">dataframe</span><span class="p">[</span><span class="n">col</span><span class="p">][</span><span class="n">index_</span><span class="p">])))</span>
    
    <span class="c1">### Mostramos la figura procesada en el ciclo anterior y otros datos. A√±adimos espaciado</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s1">&#39;&lt;h4&gt;Visualizaci√≥n del gr√°fico </span><span class="si">{}</span><span class="s1">&lt;/h4&gt; &lt;br&gt; El gr√°fico, visualizado en &lt;a href=&quot;https://plotly.com/python/&quot;&gt;Plot.ly&lt;/a&gt;: &lt;br&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
    
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;&gt; &lt;b&gt;Notas&lt;/b&gt;: </span>
<span class="s2">    &lt;br&gt; - El gr√°fico &lt;b&gt;inicia en el </span><span class="si">{}</span><span class="s2">&lt;/b&gt; y &lt;b&gt;termina el </span><span class="si">{}</span><span class="s2">&lt;/b&gt; en base a los datos disponibles.</span>
<span class="s2">    &lt;br&gt; - Para aislar una curva, presionar en el nombre o color en la leyenda. </span>
<span class="s2">    &lt;br&gt; - Para remover una curva, seguir instrucci√≥n anterior, con la diferencia de presionar dos veces.&quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>\
                    <span class="n">_df</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1"> de %B de %Y&#39;</span><span class="p">),</span>
                    <span class="n">dataframe</span><span class="p">[</span><span class="n">index_</span><span class="p">:]</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1"> de %B de %Y&#39;</span><span class="p">))))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s1">&#39;&lt;h4&gt;Informaci√≥n adicional sobre el gr√°fico </span><span class="si">{}</span><span class="s1">&lt;/h4&gt; &lt;br&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span>
    <span class="sd">&quot;&quot;&quot;El &lt;b&gt;gr√°fico {}&lt;/b&gt; utiliz√≥ los datos procesados en &lt;a href=&quot;https://raw.githubusercontent.com/pandemiaventana/pandemiaventana/main/out/site/csv/data{}.csv&quot;&gt;data{}.csv&lt;/a&gt;.</span>
<span class="sd">    La tabla de datos resumida:&quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">)))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">dataframe</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="automatizando-salida-para-asistenciacovid19">
<h2>Automatizando salida para asistenciacovid19<a class="headerlink" href="#automatizando-salida-para-asistenciacovid19" title="Permalink to this headline">¬∂</a></h2>
<p>En raz√≥n de brindar una p√°gina web que se pueda incrustar en el sitio de la Universidad Arturo Prat, como tambi√©n en el presente sitio, generamos las siguientes l√≠neas de codigo.</p>
<div class="section" id="donde-estara-la-salida">
<h3>¬øD√≥nde estar√° la salida?<a class="headerlink" href="#donde-estara-la-salida" title="Permalink to this headline">¬∂</a></h3>
<blockquote>
<div><p>La salida estar√° disponible en <a class="reference external" href="https://pandemiaventana.github.io/pandemiaventana/dinamic/balance.html">‚Äú<strong>Balance hist√≥rico</strong> üìä‚Äù</a>.</p>
</div></blockquote>
</div>
<div class="section" id="como-funciona">
<h3>¬øC√≥mo funciona?<a class="headerlink" href="#como-funciona" title="Permalink to this headline">¬∂</a></h3>
<ul class="simple">
<li><p>La salida completa de la celda anterior es capturada como lenguaje HTML, pero solo el cuerpo de la p√°gina <span id="id3">[<a class="reference internal" href="../7_bibliografia/0_bibliografia.html#id16">Ben20</a>]</span>.</p></li>
</ul>
<p>En este sentido, <strong>dar gracias al usuario Benvida, de Stackoverflow</strong> <a class="footnote-reference brackets" href="#benvida" id="id4">1</a>. El c√≥digo original que desarroll√≥ se encuentra a continuaci√≥n, el cual modificaremos.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">js</span>
<span class="p">{</span>
    <span class="n">let</span> <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="o">...</span><span class="n">document</span><span class="o">.</span><span class="n">querySelectorAll</span><span class="p">(</span><span class="s2">&quot;.cell&quot;</span><span class="p">)]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span>
        <span class="n">cell</span><span class="o">=&gt;</span> <span class="p">{</span>
            <span class="n">let</span> <span class="n">output</span><span class="o">=</span><span class="n">cell</span><span class="o">.</span><span class="n">querySelector</span><span class="p">(</span><span class="s2">&quot;.output_text&quot;</span><span class="p">)</span>
            <span class="k">if</span><span class="p">(</span><span class="n">output</span><span class="p">)</span> <span class="k">return</span> <span class="n">output</span><span class="o">.</span><span class="n">innerText</span>
            <span class="n">output</span><span class="o">=</span><span class="n">cell</span><span class="o">.</span><span class="n">querySelector</span><span class="p">(</span><span class="s2">&quot;.rendered_html&quot;</span><span class="p">)</span>
            <span class="k">if</span><span class="p">(</span><span class="n">output</span><span class="p">)</span> <span class="k">return</span> <span class="n">output</span><span class="o">.</span><span class="n">innerHTML</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span>
        <span class="p">}</span>
    <span class="p">)</span>
    
    <span class="n">IPython</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">kernel</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;cell_outputs=&quot;</span><span class="o">+</span><span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="p">(</span><span class="n">outputs</span><span class="p">))</span>    
<span class="p">}</span>

</pre></div>
</div>
</div>
<div class="section" id="inconveniente">
<h3>Inconveniente<a class="headerlink" href="#inconveniente" title="Permalink to this headline">¬∂</a></h3>
<p>En primer lugar, el lenguaje de marcado (HTML) solo brinda la estructura b√°sica del sitio, que se compone de texto, im√°genes y scripts. Para que funcionen los scripts, en este caso, <a class="reference external" href="http://Plot.ly">Plot.ly</a>, se tienen m√∫ltiples dependencias de otras librer√≠as de JavaScript.</p>
<p>JavaScript es un lenguaje de programaci√≥n de alto nivel, el cual, tal como Python, tiene m√∫ltiples librer√≠as que se especializan en distintas tareas y funciones. <a class="reference external" href="http://Plot.ly">Plot.ly</a> depende de otras librer√≠as para funcionar, por lo que, para que el script de JavaScript, realizado por los creadores de <a class="reference external" href="http://Plot.ly">Plot.ly</a>, funcione, debemos no solo incorporar el c√≥digo de los gr√°ficos, sino tambi√©n sus <strong>dependencias</strong>.</p>
<p>Para ello, incorporamos en el <code class="docutils literal notranslate"><span class="pre">&lt;head&gt;</span></code> las CDN. Estos son servidores, a partir de los cuales descargamos los archivos que tienen las dependencias.</p>
<p>Cabe recalcar que, adem√°s de c√≥digo JavaScript, tambi√©n incorporamos lenguaje de hojas de estilo en cascada (CSS), el cual le da formato y estilo al solitario HTML.</p>
<p>En analog√≠a, y para simple comprensi√≥n, <strong>HTML es el esqueleto (estructura), JS es la musculaci√≥n (animaciones y movimiento) y CSS es la apariencia externa (piel y atributos f√≠sicos)</strong>.</p>
<div class="section" id="algunos-arreglos">
<h4>Algunos arreglos<a class="headerlink" href="#algunos-arreglos" title="Permalink to this headline">¬∂</a></h4>
<ul class="simple">
<li><p>La funci√≥n por BenVida es ejecutada una vez se termin√≥ de ejecutar todas las celdas, y por ende, los outputs no son recopilados hasta que el Kernel culmina su ejecuci√≥n.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="n">html</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;balance.html&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">html</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;&lt;html&gt;&lt;head&gt;&lt;link rel=&#39;stylesheet&#39; href=&#39;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css&#39;&gt;&lt;script src=&#39;https://cdn.plot.ly/plotly-latest.min.js&#39;&gt;&lt;/script&gt;&lt;script src=&#39;https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.js&#39;&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&#39;&#39;&#39;</span> <span class="o">+</span><span class="n">cell_outputs</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">+</span><span class="s1">&#39;&#39;&#39;&lt;/body&gt;&lt;/html&gt;&#39;&#39;&#39;</span><span class="p">)</span>
<span class="n">html</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

</pre></div>
</div>
<p>Aqu√≠ se nos genera el siguiente problema: La variable <code class="docutils literal notranslate"><span class="pre">cell_outputs</span></code> no es asignada hasta que el Kernel termina su ejecuci√≥n, por lo que si des√©aramos actualizar el archivo HTML, en base a la celda anterior de c√≥digo (donde est√°n los gr√°ficos <a class="reference external" href="http://Plot.ly">Plot.ly</a>), no podr√≠amos, porque la variable <code class="docutils literal notranslate"><span class="pre">cell_outputs</span></code> todav√≠a no est√° asignada. ¬øLa soluci√≥n? Ejecutar el c√≥digo Python tras la ejecuci√≥n del c√≥digo JavaScript, y de esta forma, no tenemos inconvenientes. Para ello, utilizaremos la misma funci√≥n que utiliz√≥ BenVida, <code class="docutils literal notranslate"><span class="pre">IPython.notebook.kernel.execute(&quot;&quot;)</span></code> donde en <code class="docutils literal notranslate"><span class="pre">&quot;</span> <span class="pre">&quot;</span></code> debe ir el c√≥digo Python.</p>
<p>Por otro lado, al ser c√≥digo JavaScript con Python, ¬°se debe tener cuidado al utilizar comillas sobre doble comillas o viceversa! De otra forma, tendremos un error. Por esta raz√≥n, utilizamos la funci√≥n <code class="docutils literal notranslate"><span class="pre">format()</span></code> de Python (ya que las URL deben ir entre comillas, le decimos a Python que se encargue de esa situaci√≥n, sin que el input de JavaScript nos resulte en error).</p>
</div>
<div class="section" id="detalles">
<h4>Detalles<a class="headerlink" href="#detalles" title="Permalink to this headline">¬∂</a></h4>
<p>El sitio se encuentra en el directorio <code class="docutils literal notranslate"><span class="pre">./out/site</span></code>. Respecto al funcionamiento del c√≥digo para procesarlo:</p>
<ul class="simple">
<li><p>Modificamos al funci√≥n para no solamente obtener el texto, sino que todo el HTML.</p></li>
<li><p>Para no desperdiciar los estilos CSS que utiliza Jupyter Notebooks, copi√© los mismos archivos CSS en la carpeta del sitio (<code class="docutils literal notranslate"><span class="pre">ipython.min.css</span></code> y <code class="docutils literal notranslate"><span class="pre">style.min.css</span></code>). Los archivos se pueden encontrar en el directorio de Anaconda, <code class="docutils literal notranslate"><span class="pre">usuario/anaconda3/Lib/site-packages/notebook/static/style</span></code>.</p></li>
<li><p>Adem√°s, en el mismo directorio se encuentra el archivo JavaScript, <code class="docutils literal notranslate"><span class="pre">plotly.js</span></code>, que debe estar en el directorio para que funcionen los gr√°ficos interactivos.</p></li>
<li><p>Se remueven los <code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code> con clase <code class="docutils literal notranslate"><span class="pre">prompt</span></code>, que es lo que brinda el margen a la izquierda en Jupyter Notebooks.</p></li>
</ul>
<div class="highlight-IPython.notebook.kernel.execute(&quot;soup notranslate"><div class="highlight"><pre><span></span>    IPython.notebook.kernel.execute(&quot;removals = soup.find_all(attrs={&#39;class&#39;: &#39;prompt&#39;})&quot;)
    IPython.notebook.kernel.execute(&quot;for removal in removals: removal.decompose()&quot;)
    IPython.notebook.kernel.execute(&quot;soup = str(soup)&quot;)
</pre></div>
</div>
</div>
<div class="section" id="nuevo-inconveniente">
<h4>Nuevo inconveniente<a class="headerlink" href="#nuevo-inconveniente" title="Permalink to this headline">¬∂</a></h4>
<p>Al automatizar el c√≥digo en GitHub, logr√© apreciar que el c√≥digo Python a trav√©s de JavaScript no es ejecutado. √âsto produce que los archivos no se actualicen.</p>
<p>Por ello, tuve que aproximar otra soluci√≥n.</p>
<blockquote>
<div><p>Con el comando m√°gico de Jupyter Notebook, <code class="docutils literal notranslate"><span class="pre">%%capture</span></code>, capturamos la salida de una celda espec√≠fica.</p>
</div></blockquote>
<p>En este caso puntual, almacenamos la salida en la variable <code class="docutils literal notranslate"><span class="pre">reportediario</span></code> con el comando m√°gico <code class="docutils literal notranslate"><span class="pre">%%capture</span></code>. Esa salida debemos convertirla a texto, o <strong>string</strong> en ingl√©s, el problema es que, al ser un output de una celda, posee algunos textos que no deseamos:</p>
<ul class="simple">
<li><p>El tipo de variable que se est√° imprimiendo.</p></li>
<li><p>Configuraci√≥n de <a class="reference external" href="http://Plot.ly">Plot.ly</a> en diccionario.</p></li>
<li><p>Datos de tabla sin formato.</p></li>
</ul>
<p>En las siguientes l√≠neas de c√≥digo:</p>
<ul class="simple">
<li><p>Limpieza de textos.</p></li>
<li><p>Damos formato de documento HTML.</p></li>
<li><p>A√±adimos <a class="reference external" href="https://getbootstrap.com/">Bootstrap</a> <a class="footnote-reference brackets" href="#bootstrap" id="id5">2</a> para que el documento HTML no quede plano, a√±adiendo c√≥digo desde sus Docs <span id="id6">[<a class="reference internal" href="../7_bibliografia/0_bibliografia.html#id49">Boo20</a>]</span>.</p></li>
<li><p>Entre otros.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outputs_</span> <span class="o">=</span> <span class="n">reportediario</span><span class="o">.</span><span class="n">outputs</span>

<span class="n">vec_out</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">outs_</span> <span class="ow">in</span> <span class="n">outputs_</span><span class="p">:</span>
    <span class="c1">### Convertimos a lista los outputs</span>
    <span class="n">vec_out</span> <span class="o">+=</span> <span class="nb">list</span><span class="p">(</span><span class="n">outs_</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

<span class="c1">### Nuestro string</span>
<span class="n">vec_</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="c1">### Recorremos la lista de outputs</span>
<span class="k">for</span> <span class="n">vec</span> <span class="ow">in</span> <span class="n">vec_out</span><span class="p">:</span>
    <span class="n">vec</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">vec</span><span class="p">)</span>
    <span class="c1">### Quitamos configuraci√≥n de Plot.ly</span>
    <span class="k">if</span> <span class="n">vec</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;{&#39;config&#39;:&quot;</span><span class="p">):</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1">### Quitamos el str de datos de tabla sin formato</span>
        <span class="k">if</span> <span class="n">vec</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;            &quot;</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1">### Quitamos el str del tipo de variable</span>
            <span class="n">vec</span> <span class="o">=</span> <span class="n">vec</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&lt;IPython.core.display.Markdown object&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="c1">### Damos formato a tablas</span>
            <span class="k">if</span> <span class="n">vec</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;&lt;div&gt;</span><span class="se">\n</span><span class="s1">&lt;style scoped&gt;&#39;</span><span class="p">):</span>
                <span class="n">vec</span> <span class="o">=</span> <span class="n">vec</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;NaN&#39;</span><span class="p">,</span> <span class="s1">&#39;Sin datos&#39;</span><span class="p">)</span>
                <span class="n">vec</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;table&#39;</span><span class="p">)</span>
                <span class="n">vec</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vec</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="p">[])</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39; table table-dark table-striped table-hover table-sm&#39;</span><span class="p">]</span>
                <span class="n">vec</span> <span class="o">=</span> <span class="s1">&#39;&lt;div class=&quot;table-responsive&quot;&gt;&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">vec</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&lt;/div&gt;&#39;</span>
            <span class="c1">### Finalmente, a√±adimos al vector</span>
            <span class="n">vec_</span> <span class="o">+=</span> <span class="s1">&#39;&lt;div class=&quot;row&quot;&gt;&lt;br&gt;&lt;div class=&quot;col text-light&quot;&gt;&#39;</span> <span class="o">+</span> <span class="n">vec</span> <span class="o">+</span> <span class="s1">&#39;&lt;/div&gt;&lt;/div&gt;&#39;</span>

<span class="c1">### Abrimos y modificamos el HTML</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;../../_build/html/dinamic/balance.html&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;&lt;html&gt;</span>
<span class="s1">    &lt;head&gt;</span>
<span class="s1">    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css&quot; integrity=&quot;sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm&quot; crossorigin=&quot;anonymous&quot;&gt;</span>
<span class="s1">    &lt;script src=&quot;https://code.jquery.com/jquery-3.2.1.slim.min.js&quot; integrity=&quot;sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN&quot; crossorigin=&quot;anonymous&quot;&gt;</span>
<span class="s1">    &lt;/script&gt;</span>
<span class="s1">    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js&quot; integrity=&quot;sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q&quot; crossorigin=&quot;anonymous&quot;&gt;</span>
<span class="s1">    &lt;/script&gt;</span>
<span class="s1">    &lt;script src=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js&quot; integrity=&quot;sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl&quot; crossorigin=&quot;anonymous&quot;&gt;</span>
<span class="s1">    &lt;/script&gt;</span>
<span class="s1">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;</span>
<span class="s1">    &lt;script src=&quot;https://cdn.plot.ly/plotly-latest.min.js&quot;&gt;</span>
<span class="s1">    &lt;/script&gt;</span>
<span class="s1">    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.js&quot;&gt;</span>
<span class="s1">    &lt;/script&gt;</span>
<span class="s1">    &lt;link rel=&quot;icon&quot; href=&quot;./favicon.ico&quot; type=&quot;image/x-icon&quot;/&gt;</span>
<span class="s1">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span>
<span class="s1">    &lt;title&gt;Balance hist√≥rico üìä &amp;#8212; La pandemia por la ventana&lt;/title&gt;</span>
<span class="s1">    &lt;/head&gt;</span>
<span class="s1">    &lt;body&gt;</span>
<span class="s1">    &lt;nav class=&quot;navbar nnavbar-expand-lg navbar-dark bg-dark&quot;&gt;</span>
<span class="s1">      &lt;a class=&quot;navbar-brand&quot; href=&quot;https://pandemiaventana.github.io/pandemiaventana/&quot;&gt;</span>
<span class="s1">    &lt;img src=&quot;./logo.png&quot; width=&quot;35&quot; height=&quot;35&quot; class=&quot;d-inline-block align-top&quot; alt=&quot;&quot;&gt;</span>
<span class="s1">    Numeral.lab</span>
<span class="s1">      &lt;/a&gt;</span>
<span class="s1">      &lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#navbarNavAltMarkup&quot; aria-controls=&quot;navbarNavAltMarkup&quot; aria-expanded=&quot;false&quot; aria-label=&quot;Toggle navigation&quot;&gt;</span>
<span class="s1">    &lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;</span>
<span class="s1">    &lt;/button&gt;</span>
<span class="s1">    &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarNavAltMarkup&quot;&gt;</span>
<span class="s1">    &lt;div class=&quot;navbar-nav&quot;&gt;</span>
<span class="s1">      &lt;a class=&quot;nav-item nav-link active&quot; href=&quot;#&quot;&gt;Reporte diario &lt;span class=&quot;sr-only&quot;&gt;(current)&lt;/span&gt;&lt;/a&gt;</span>
<span class="s1">      &lt;a class=&quot;nav-item nav-link&quot; href=&quot;https://pandemiaventana.github.io/pandemiaventana/dinamic/indicadorfase.html&quot;&gt;Indicador de fase&lt;/a&gt;</span>
<span class="s1">      &lt;a class=&quot;nav-item nav-link&quot; href=&quot;https://pandemiaventana.github.io/pandemiaventana/&quot;&gt;La pandemia por la ventana&lt;/a&gt;</span>
<span class="s1">    &lt;/div&gt;</span>
<span class="s1">    &lt;/div&gt;</span>
<span class="s1">    &lt;/nav&gt;</span>
<span class="s1">    &lt;div class=&quot;container-fluid bg-dark text-light&quot;&gt;&#39;&#39;&#39;</span> 
    <span class="o">+</span> <span class="n">vec_</span> <span class="o">+</span> 
    <span class="sd">&#39;&#39;&#39;&lt;/div&gt;</span>
<span class="sd">    &lt;/body&gt;</span>
<span class="sd">    &lt;/html&gt;&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="informacion-de-sesion">
<h2>Informaci√≥n de sesi√≥n<a class="headerlink" href="#informacion-de-sesion" title="Permalink to this headline">¬∂</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">session_info</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">cpu</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">jupyter</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">std_lib</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">write_req_file</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">dependencies</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">req_file_name</span><span class="o">=</span><span class="s1">&#39;3_requeriments.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">            <details>
            <summary>Click to view session information</summary>
            <pre>
            -----
            bs4                 4.9.3
            datetime            NA
            json                2.0.9
            locale              NA
            math                NA
            numpy               1.19.5
            os                  NA
            pandas              1.2.3
            plotly              4.8.1
            session_info        1.0.0
            time                NA
            -----
            </pre>
            <details>
            <summary>Click to view modules imported as dependencies</summary>
            <pre>
            PIL                         8.2.0
            abc                         NA
            argparse                    1.1
            array                       NA
            ast                         NA
            asyncio                     NA
            atexit                      NA
            attr                        20.3.0
            backcall                    0.2.0
            base64                      NA
            bdb                         NA
            binascii                    NA
            bisect                      NA
            bz2                         NA
            cProfile                    NA
            calendar                    NA
            chardet                     4.0.0
            cmath                       NA
            cmd                         NA
            code                        NA
            codecs                      NA
            codeop                      NA
            collections                 NA
            colorama                    0.4.4
            colorsys                    NA
            concurrent                  NA
            configparser                NA
            contextlib                  NA
            contextvars                 NA
            copy                        NA
            copyreg                     NA
            csv                         1.0
            ctypes                      1.1.0
            curses                      NA
            cython_runtime              NA
            dataclasses                 NA
            dateutil                    2.8.2
            debugpy                     1.4.1
            decimal                     1.70
            decorator                   5.0.9
            difflib                     NA
            dis                         NA
            distutils                   3.7.11
            email                       NA
            encodings                   NA
            entrypoints                 0.3
            enum                        NA
            errno                       NA
            faulthandler                NA
            fcntl                       NA
            filecmp                     NA
            fnmatch                     NA
            functools                   NA
            gc                          NA
            genericpath                 NA
            getopt                      NA
            getpass                     NA
            gettext                     NA
            glob                        NA
            grp                         NA
            gzip                        NA
            hashlib                     NA
            heapq                       NA
            hmac                        NA
            html                        NA
            http                        NA
            idna                        2.10
            imp                         NA
            importlib                   NA
            importlib_metadata          NA
            inspect                     NA
            io                          NA
            ipykernel                   6.3.1
            ipython_genutils            0.2.0
            itertools                   NA
            jedi                        0.18.0
            jsonschema                  3.2.0
            keyword                     NA
            linecache                   NA
            logging                     0.5.1.2
            lzma                        NA
            marshal                     4
            mimetypes                   NA
            mmap                        NA
            mpl_toolkits                NA
            multiprocessing             NA
            nbformat                    5.1.3
            ntpath                      NA
            numbers                     NA
            opcode                      NA
            operator                    NA
            parso                       0.8.2
            pathlib                     NA
            pdb                         NA
            pexpect                     4.8.0
            pickle                      NA
            pickleshare                 0.7.5
            pkg_resources               NA
            pkgutil                     NA
            platform                    1.0.8
            plistlib                    NA
            posix                       NA
            posixpath                   NA
            pprint                      NA
            profile                     NA
            prompt_toolkit              3.0.20
            pstats                      NA
            pty                         NA
            ptyprocess                  0.7.0
            pvectorc                    NA
            pwd                         NA
            pydev_ipython               NA
            pydevconsole                NA
            pydevd                      2.4.1
            pydevd_concurrency_analyser NA
            pydevd_file_utils           NA
            pydevd_plugins              NA
            pydevd_tracing              NA
            pydoc                       NA
            pydoc_data                  NA
            pyexpat                     NA
            pygments                    2.10.0
            pyrsistent                  NA
            pytz                        2021.1
            queue                       NA
            quopri                      NA
            random                      NA
            re                          2.2.1
            reprlib                     NA
            resource                    NA
            retrying                    NA
            runpy                       NA
            secrets                     NA
            select                      NA
            selectors                   NA
            shlex                       NA
            shutil                      NA
            signal                      NA
            site                        NA
            six                         1.16.0
            socket                      NA
            socketserver                0.4
            soupsieve                   2.2.1
            sphinxcontrib               NA
            sqlite3                     2.6.0
            sre_compile                 NA
            sre_constants               NA
            sre_parse                   NA
            ssl                         NA
            stat                        NA
            storemagic                  NA
            string                      NA
            stringprep                  NA
            struct                      NA
            subprocess                  NA
            sys                         3.7.11 (default, Jul  5 2021, 20:57:17) 
[GCC 9.3.0]
            sysconfig                   NA
            tarfile                     0.9.0
            tempfile                    NA
            termios                     NA
            textwrap                    NA
            threading                   NA
            timeit                      NA
            token                       NA
            tokenize                    NA
            tornado                     6.1
            traceback                   NA
            traitlets                   5.1.0
            tty                         NA
            types                       NA
            typing                      NA
            typing_extensions           NA
            unicodedata                 NA
            urllib                      NA
            uu                          NA
            uuid                        NA
            warnings                    NA
            wcwidth                     0.2.5
            weakref                     NA
            webbrowser                  NA
            xml                         NA
            xmlrpc                      NA
            zipfile                     NA
            zipimport                   NA
            zipp                        NA
            zlib                        1.0
            zmq                         22.2.1
            </pre>
            </details> <!-- seems like this ends pre, so might as well be explicit -->
            <pre>
            -----
            IPython             7.27.0
            jupyter_client      7.0.2
            jupyter_core        4.7.1
            notebook            6.4.3
            -----
            Python 3.7.11 (default, Jul  5 2021, 20:57:17) [GCC 9.3.0]
            Linux-5.8.0-1040-azure-x86_64-with-debian-bullseye-sid
            2 logical CPU cores, x86_64
            -----
            Session information updated at 2021-09-05 23:45
            </pre>
            </details></div></div>
</div>
</div>
<div class="section" id="bibliografia-de-esta-pagina">
<h2>Bibliograf√≠a de esta p√°gina<a class="headerlink" href="#bibliografia-de-esta-pagina" title="Permalink to this headline">¬∂</a></h2>
<p><dl class="footnote brackets">
<dt class="label" id="benvida"><span class="brackets"><a class="fn-backref" href="#id4">1</a></span></dt>
<dd><p>BenVida. Jupyter magic to handle notebook exceptions. 2020. URL: <a class="reference external" href="https://stackoverflow.com/a/64495269/13746427">https://stackoverflow.com/a/64495269/13746427</a>.</p>
</dd>
<dt class="label" id="bootstrap"><span class="brackets"><a class="fn-backref" href="#id5">2</a></span></dt>
<dd><p>Bootstrap. Get started with Bootstrap. 2020. URL: <a class="reference external" href="https://getbootstrap.com/docs/4.3/getting-started/introduction/">https://getbootstrap.com/docs/4.3/getting-started/introduction/</a>.</p>
</dd>
</dl>
</p>
<hr class="footnotes docutils" />
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./page/2_programacion"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="2_thisistheway.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">Aprendizaje</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="3_programacion.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">Aclaraciones</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Alejandro Dinamarca C√°ceres<br/>
        
            &copy; Copyright 2021. Numeral.lab.<br/>
          <div class="extra_footer">
            Por <a href="https://www.linkedin.com/in/alejandrodinamarca/">Alejandro Fabi√°n Dinamarca C√°ceres</a>. <a href="https://doi.org/10.5281/zenodo.5044609"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.5044609.svg" alt="DOI"></a> <a href="https://github.com/pandemiaventana/pandemiaventana/actions/workflows/book.yml"><img src="https://github.com/pandemiaventana/pandemiaventana/actions/workflows/book.yml/badge.svg" alt="actualiza_libro"></a>
          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
<script>
                        window.ga = window.ga || function () {
                            (ga.q = ga.q || []).push(arguments) };
                        ga.l = +new Date;
                        ga('create', 'UA-169901790-2', 'auto');
                        ga('set', 'anonymizeIp', true);
                        ga('send', 'pageview');
                    </script>

  </body>
</html>